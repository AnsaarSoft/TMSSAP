
@page "/"
@page "/timesheet/dailytimesheet"
@layout MainLayout

<MudCard Elevation="2">
    <MudCardContent>
        <MudBreadcrumbs Items="oBreadList" Separator=">"></MudBreadcrumbs>
    </MudCardContent>
</MudCard>
<MudDivider/>
<MudCard Elevation="2">
    <MudCardContent>
        <MudContainer>
            <MudGrid>
                <MudItem xs="12" sm="6" md="4">
                    <MudDatePicker Label="From Date" @bind-Date="FromDate" />
                </MudItem>
                <MudItem xs="12" sm="6" md="4">
                    <MudDatePicker Label="To Date" @bind-Date="ToDate" />
                </MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem>
                    <MudButton Variant="Variant.Filled" Color="Color.Default" OnClick="GetData" Disabled="flgBusy">Search</MudButton>
                </MudItem>
                <MudItem>
                    <MudButton Variant="Variant.Filled" Color="Color.Default" OnClick="GotoTimeSheetAdd" Disabled="flgBusy">Add Timesheet</MudButton>
                </MudItem>
                <MudItem>
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="SubmitSheets" Disabled="flgBusy">Submit</MudButton>
                </MudItem>
                <MudItem>
                    <MudButton Variant="Variant.Filled" Color="Color.Secondary" OnClick="CancelSheets" Disabled="flgBusy">Cancel</MudButton>
                </MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem xs="12" sm="6" md="12">
                    <MudTable MultiSelection="true" Items="oModel.oCollection" @bind-SelectedItems="oModel.oSelected" Hover="true" Striped="true" Bordered="true">
                        <HeaderContent>
                            <MudTh>Id</MudTh>
                            <MudTh>Day</MudTh>
                            <MudTh>Date</MudTh>
                            <MudTh>Start Time</MudTh>
                            <MudTh>End Time</MudTh>
                            <MudTh>Leave</MudTh>
                            <MudTh>Break</MudTh>
                            <MudTh>Status</MudTh>
                        </HeaderContent>
                        <RowTemplate>
                            <MudTd DataLabel="Id">@context.ID</MudTd>
                            <MudTd DataLabel="Day">@context.DayDate.DayOfWeek.ToString()</MudTd>
                            <MudTd DataLabel="Date">@context.DayDate.ToString("dd/MM/yyyy")</MudTd>
                            <MudTd DataLabel="Start Time">@context.StartTime.ToString("t")</MudTd>
                            <MudTd DataLabel="End Time">@context.EndTime.ToString("t")</MudTd>
                            <MudTd DataLabel="Leave"><MudSwitch Color="Color.Primary" @bind-Checked="@context.flgLeave" /></MudTd>
                            <MudTd DataLabel="Break"><MudSwitch Color="Color.Primary" @bind-Checked="@context.flgBreak" /></MudTd>
                            <MudTd DataLabel="Status">@context.Status</MudTd>
                        </RowTemplate>
                        <PagerContent>
                            <MudTablePager />
                        </PagerContent>
                    </MudTable>
                </MudItem>
            </MudGrid>
        </MudContainer>
    </MudCardContent>
</MudCard>
