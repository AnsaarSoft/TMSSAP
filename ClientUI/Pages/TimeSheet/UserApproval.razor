@page "/timesheet/userapproval"
@layout MainLayout

<MudCard Elevation="2">
    <MudCardContent>
        <MudBreadcrumbs Items="oBreadList" Separator=">"></MudBreadcrumbs>
    </MudCardContent>
</MudCard>
<MudDivider />
@if(oCollection is not null)
{
    <MudCard Elevation="2">
    <MudCardContent>
        <MudContainer>
            <MudGrid>
                <MudItem>
                    <MudButton Variant="Variant.Filled" Color="Color.Default" OnClick="ApproveRecords" Disabled="flgBusy">Approved</MudButton>
                </MudItem>
                <MudItem>
                    <MudButton Variant="Variant.Filled" Color="Color.Default" OnClick="RejectRecords" Disabled="flgBusy">Rejected</MudButton>
                </MudItem>
            </MudGrid>
            <MudGrid>
                <MudItem xs="12" sm="6" md="12">
                    <MudTable MultiSelection="true" @bind-SelectedItems="SelectedApproval" Items="oCollection" Hover="true" Striped="true" Bordered="true">
                        <HeaderContent>
                            <MudTh>User Name</MudTh>
                            <MudTh>Date</MudTh>
                            <MudTh>Start Time</MudTh>
                            <MudTh>End Time</MudTh>
                            <MudTh>Leave Hour</MudTh>
                        </HeaderContent>
                        <RowTemplate>
                            <MudTd DataLabel="User Name">@context.Username</MudTd>
                            <MudTd DataLabel="Date">@context.LeaveDate</MudTd>
                            <MudTd DataLabel="Start Time">@context.LeaveStart</MudTd>
                            <MudTd DataLabel="End Time">@context.LeaveEnd</MudTd>
                            <MudTd DataLabel="Leave Hour">@context.TotalHour.ToString("C2")</MudTd>
                        </RowTemplate>
                        <PagerContent>
                            <MudTablePager />
                        </PagerContent>
                    </MudTable>
                </MudItem>
            </MudGrid>
        </MudContainer>
    </MudCardContent>
</MudCard>
}